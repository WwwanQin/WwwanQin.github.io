(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cef2992e"],{"1dde":function(t,a,s){var e=s("d039"),n=s("b622"),i=s("2d00"),o=n("species");t.exports=function(t){return i>=51||!e((function(){var a=[],s=a.constructor={};return s[o]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},"399d":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"videodetail"},[s("div",{staticClass:"videoLabel",on:{click:t.start}},[s("video",{ref:"video",attrs:{poster:""+t.$axios.defaults.baseURL+t.post.cover[0].url,controls:"",src:t.$axios.defaults.baseURL+t.data.content}}),t.ifPause?s("div",{staticClass:"video-start"},[s("span",{class:t.pause})]):t._e()]),s("div",{staticClass:"authorArea"},[s("div",{staticClass:"leftLabel"},[s("div",{staticClass:"authorMessage"},[s("div",{staticClass:"headIcon"},[s("img",{attrs:{src:t.$axios.defaults.baseURL+"/uploads/image/IMG1574778154464.jpeg"}})]),s("div",{staticClass:"authorName"},[t._v(" "+t._s(t.nickname)+" ")])])]),s("div",{staticClass:"rightLabel"},[s("div",{class:!0===t.data.has_follow?"weiguanzhu":"guanzhu",on:{click:t.bundleFollows}},[t._v(" "+t._s(!0===t.data.has_follow?"已关注":"关注")+" ")])])]),s("div",{staticClass:"title"},[t._v(" "+t._s(t.data.title)+" ")]),s("div",{staticClass:"contentfooter"},[s("div",{staticClass:"like"},[s("span",{staticClass:"iconfont icondianzan",on:{click:t.dianzan}}),s("span",{staticClass:"linknum"},[t._v(t._s(t.data.like_length?t.data.like_length:0))])]),t._m(0)]),s("comment",{attrs:{data:t.data},on:{handlelike:t.checkLike,handleComment:t.commentsPage}})],1)},n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"wechat"},[s("span",{staticClass:"iconfont iconweixin"}),s("span",{staticClass:"wechatlink"},[t._v("微信")])])}],i=(s("99af"),s("652a")),o={data:function(){return{postId:"",pause:"iconfont iconshipin",ifPause:!0,data:{},content:"  ",nickname:"佚名",post:{cover:[{}]}}},methods:{start:function(){this.ifPause=!this.ifPause;var t=this.$refs.video;t.paused?t.play():t.pause()},checkLike:function(){var t=this,a=JSON.parse(localStorage.getItem("news_User_Data"))||{},s=a.token;s||this.$router.push({path:"/login",query:{returnUrl:this.$route.fullPath}}),this.data.has_star=!this.data.has_star,this.$axios({url:"post_star/".concat(this.postId),method:"get",headers:{Authorization:s}}).then((function(a){var s=a.data.message;t.$toast(s)}))},commentsPage:function(){this.$router.push("/messagereply/".concat(this.$route.params.id))},bundleFollows:function(){var t=this,a=JSON.parse(localStorage.getItem("news_User_Data"))||{},s=a.token;s||this.$router.push({path:"/login",query:{returnUrl:this.$route.fullPath}});var e=this.data.has_follow?"user_unfollow":"user_follows";this.data.has_follow=!this.data.has_follow,this.$axios({url:"".concat(e,"/").concat(this.data.user.id),type:"get",headers:{Authorization:s}}).then((function(a){var s=a.data.message;t.$toast(s)}))},dianzan:function(){var t=this;this.data.like_length=this.data.has_like?this.data.like_length-1:this.data.like_length+1,this.data.has_like=!this.data.has_like;var a=JSON.parse(localStorage.getItem("news_User_Data"))||{},s=a.token;s||this.$router.push({path:"/login",query:{returnUrl:this.$route.fullPath}}),this.$axios({url:"post_like/".concat(this.postId),method:"get",headers:{Authorization:s}}).then((function(a){var s=a.data.message;t.$toast(s)}))}},mounted:function(){var t=this;this.postId=this.$route.params.id;var a=JSON.parse(localStorage.getItem("news_User_Data"))||{},s=a.token;this.$axios({url:"/post/".concat(this.postId),method:"get",headers:{Authorization:s||""}}).then((function(a){var s=a.data.data;t.data=s,t.content=s.content,t.nickname=s.user.nickname,t.post=s}))},components:{comment:i["a"]}},r=o,c=(s("f4b9"),s("2877")),l=Object(c["a"])(r,e,n,!1,null,"af2f9b62",null);a["default"]=l.exports},"4edc":function(t,a,s){"use strict";var e=s("9555"),n=s.n(e);n.a},"652a":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"comment"},[s("div",{staticClass:"left-label"},[s("input",{attrs:{type:"button",value:"写跟帖"},on:{click:t.commentsPage}})]),s("div",{staticClass:"right-label"},[s("span",{staticClass:"iconfont iconpinglun-",on:{click:t.commentsPage}},[s("i",[t._v(t._s(t.data.comment_length))])]),s("span",{staticClass:"iconfont iconshoucang",style:{color:t.data.has_star?"red":"black"},on:{click:t.checkLike}}),s("span",{staticClass:"iconfont iconfenxiang"})])])},n=[],i={props:["data"],methods:{checkLike:function(){this.$emit("handlelike")},commentsPage:function(){this.$emit("handleComment")}}},o=i,r=(s("4edc"),s("2877")),c=Object(r["a"])(o,e,n,!1,null,"2f041772",null);a["a"]=c.exports},"65f0":function(t,a,s){var e=s("861d"),n=s("e8b5"),i=s("b622"),o=i("species");t.exports=function(t,a){var s;return n(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?e(s)&&(s=s[o],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===a?0:a)}},8418:function(t,a,s){"use strict";var e=s("c04e"),n=s("9bf2"),i=s("5c6c");t.exports=function(t,a,s){var o=e(a);o in t?n.f(t,o,i(0,s)):t[o]=s}},9555:function(t,a,s){},"99af":function(t,a,s){"use strict";var e=s("23e7"),n=s("d039"),i=s("e8b5"),o=s("861d"),r=s("7b0b"),c=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),h=s("b622"),f=s("2d00"),p=h("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",_=f>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=d("concat"),k=function(t){if(!o(t))return!1;var a=t[p];return void 0!==a?!!a:i(t)},b=!_||!g;e({target:"Array",proto:!0,forced:b},{concat:function(t){var a,s,e,n,i,o=r(this),d=u(o,0),h=0;for(a=-1,e=arguments.length;a<e;a++)if(i=-1===a?o:arguments[a],k(i)){if(n=c(i.length),h+n>v)throw TypeError(m);for(s=0;s<n;s++,h++)s in i&&l(d,h,i[s])}else{if(h>=v)throw TypeError(m);l(d,h++,i)}return d.length=h,d}})},b279:function(t,a,s){},e8b5:function(t,a,s){var e=s("c6b6");t.exports=Array.isArray||function(t){return"Array"==e(t)}},f4b9:function(t,a,s){"use strict";var e=s("b279"),n=s.n(e);n.a}}]);
//# sourceMappingURL=chunk-cef2992e.2e326ca5.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11338eb8"],{"1dde":function(t,a,e){var s=e("d039"),n=e("b622"),i=e("2d00"),o=n("species");t.exports=function(t){return i>=51||!s((function(){var a=[],e=a.constructor={};return e[o]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},"399d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"videodetail"},[e("div",{staticClass:"videoLabel",on:{click:t.start}},[e("video",{ref:"video",attrs:{poster:""+t.$axios.defaults.baseURL+t.post.cover[0].url,controls:"",src:t.$axios.defaults.baseURL+t.data.content}}),t.ifPause?e("div",{staticClass:"video-start"},[e("span",{class:t.pause})]):t._e()]),e("div",{staticClass:"authorArea"},[e("div",{staticClass:"leftLabel"},[e("div",{staticClass:"authorMessage"},[t._m(0),e("div",{staticClass:"authorName"},[t._v(" "+t._s(t.nickname)+" ")])])]),e("div",{staticClass:"rightLabel"},[e("div",{class:!0===t.data.has_follow?"weiguanzhu":"guanzhu",on:{click:t.bundleFollows}},[t._v(" "+t._s(!0===t.data.has_follow?"已关注":"关注")+" ")])])]),e("div",{staticClass:"title"},[t._v(" "+t._s(t.data.title)+" ")]),e("div",{staticClass:"contentfooter"},[e("div",{staticClass:"like"},[e("span",{staticClass:"iconfont icondianzan",on:{click:t.dianzan}}),e("span",{staticClass:"linknum"},[t._v(t._s(t.data.like_length?t.data.like_length:0))])]),t._m(1)]),e("comment",{attrs:{data:t.data},on:{handlelike:t.checkLike}})],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"headIcon"},[e("img",{attrs:{src:"http://192.168.0.104:3000/uploads/image/IMG1574778154464.jpeg"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wechat"},[e("span",{staticClass:"iconfont iconweixin"}),e("span",{staticClass:"wechatlink"},[t._v("微信")])])}],i=(e("99af"),e("652a")),o={data:function(){return{postId:"",pause:"iconfont iconshipin",ifPause:!0,data:{},content:"  ",nickname:"佚名",post:{cover:[{}]}}},methods:{start:function(){this.ifPause=!this.ifPause;var t=this.$refs.video;t.paused?t.play():t.pause()},checkLike:function(){var t=this,a=JSON.parse(localStorage.getItem("news_User_Data"))||{},e=a.token;e||this.$router.push({path:"/login",query:{returnUrl:this.$route.fullPath}}),this.data.has_star=!this.data.has_star,this.$axios({url:"post_star/".concat(this.postId),method:"get",headers:{Authorization:e}}).then((function(a){var e=a.data.message;t.$toast(e)}))},bundleFollows:function(){var t=this,a=JSON.parse(localStorage.getItem("news_User_Data"))||{},e=a.token;e||this.$router.push({path:"/login",query:{returnUrl:this.$route.fullPath}});var s=this.data.has_follow?"user_unfollow":"user_follows";this.data.has_follow=!this.data.has_follow,this.$axios({url:"".concat(s,"/").concat(this.data.user.id),type:"get",headers:{Authorization:e}}).then((function(a){var e=a.data.message;t.$toast(e)}))},dianzan:function(){var t=this;this.data.like_length=this.data.has_like?this.data.like_length-1:this.data.like_length+1,this.data.has_like=!this.data.has_like;var a=JSON.parse(localStorage.getItem("news_User_Data"))||{},e=a.token;e||this.$router.push({path:"/login",query:{returnUrl:this.$route.fullPath}}),this.$axios({url:"post_like/".concat(this.postId),method:"get",headers:{Authorization:e}}).then((function(a){var e=a.data.message;t.$toast(e)}))}},mounted:function(){var t=this;this.postId=this.$route.params.id;var a=JSON.parse(localStorage.getItem("news_User_Data"))||{},e=a.token;this.$axios({url:"/post/".concat(this.postId),method:"get",headers:{Authorization:e||""}}).then((function(a){var e=a.data.data;t.data=e,t.content=e.content,t.nickname=e.user.nickname,t.post=e}))},components:{comment:i["a"]}},r=o,c=(e("e9f0"),e("2877")),l=Object(c["a"])(r,s,n,!1,null,"22a08660",null);a["default"]=l.exports},"4edc":function(t,a,e){"use strict";var s=e("9555"),n=e.n(s);n.a},"652a":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"comment"},[e("div",{staticClass:"left-label"},[e("input",{attrs:{type:"button",value:"写跟帖"},on:{click:t.commentsPage}})]),e("div",{staticClass:"right-label"},[e("span",{staticClass:"iconfont iconpinglun-",on:{click:t.commentsPage}},[e("i",[t._v(t._s(t.data.comment_length))])]),e("span",{staticClass:"iconfont iconshoucang",style:{color:t.data.has_star?"red":"black"},on:{click:t.checkLike}}),e("span",{staticClass:"iconfont iconfenxiang"})])])},n=[],i={props:["data"],methods:{checkLike:function(){this.$emit("handlelike")},commentsPage:function(){this.$emit("handleComment")}}},o=i,r=(e("4edc"),e("2877")),c=Object(r["a"])(o,s,n,!1,null,"2f041772",null);a["a"]=c.exports},"65f0":function(t,a,e){var s=e("861d"),n=e("e8b5"),i=e("b622"),o=i("species");t.exports=function(t,a){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)?s(e)&&(e=e[o],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===a?0:a)}},"82f0":function(t,a,e){},8418:function(t,a,e){"use strict";var s=e("c04e"),n=e("9bf2"),i=e("5c6c");t.exports=function(t,a,e){var o=s(a);o in t?n.f(t,o,i(0,e)):t[o]=e}},9555:function(t,a,e){},"99af":function(t,a,e){"use strict";var s=e("23e7"),n=e("d039"),i=e("e8b5"),o=e("861d"),r=e("7b0b"),c=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),h=e("b622"),f=e("2d00"),p=h("isConcatSpreadable"),v=9007199254740991,_="Maximum allowed index exceeded",m=f>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=d("concat"),k=function(t){if(!o(t))return!1;var a=t[p];return void 0!==a?!!a:i(t)},b=!m||!g;s({target:"Array",proto:!0,forced:b},{concat:function(t){var a,e,s,n,i,o=r(this),d=u(o,0),h=0;for(a=-1,s=arguments.length;a<s;a++)if(i=-1===a?o:arguments[a],k(i)){if(n=c(i.length),h+n>v)throw TypeError(_);for(e=0;e<n;e++,h++)e in i&&l(d,h,i[e])}else{if(h>=v)throw TypeError(_);l(d,h++,i)}return d.length=h,d}})},e8b5:function(t,a,e){var s=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},e9f0:function(t,a,e){"use strict";var s=e("82f0"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-11338eb8.725aab14.js.map